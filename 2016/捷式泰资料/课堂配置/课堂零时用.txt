五：ACL
5.1）ACL 定义
access-list control list

5.2)ACL的作用
a)执行访问的控制
b)执行匹配工作

5.3）ACL的种类

a)标准ACL
1~99
针对数据包的源做匹配，并完成规定动作
b)扩展ACL
100~199
可以关注数据包的源IP、目的IP，源端口，目的端口，协议种类信息，并且完成规定动作

5.4）通配符

255.255.255.0 192.168.1.0
0.0.0.255 192.168.1.0
192.168.2.0
192.168.3.0
192.168.1.0


10.1.1.0   0000 0001
10.1.2.0   0000 0010
10.1.3.0   0000 0011
10.1.4.0   0000 0100
~          0000 0101
           1111 1110
10.1.254.0

10.1.0.0 0.0.254.255

5.5）ACL 的语句匹配规则及隐藏语句

逐条匹配，一旦匹配就不继续向下匹配
隐含的 deny any

5.6)标准ACL 的配置语句

access-list <1~99> <[permit/deny]> <源IP地址信息> <通配符>

例如：只允许源于10.1.1.0/24 和20.1.1.0/24的流量通过
access-list 1 permit 10.1.1.0 0.0.0.255
access-list 1 permit 20.1.1.0 0.0.0.255

例如：除了源于10.1.1.0 /24 和20.1.1.0/24之外的流量都可以通行
access-list 1 deny 10.1.1.0 0.0.0.255
access-list 1 deny 20.1.1.0 0.0.0.255
access-list 1 permit any


5.7）扩展ACL 的配置语句

access-list <100~199> <[permit/deny]> <协议名称> <源网络信息> <通配符> <目标网络信息> <通配符> eq <目标端口号>

例如：源于10网络的流量不能访问任意目的地的HTTP 服务
      剩下其它流量放行

access-list 100 deny tcp 10.0.0.0 0.255.255.255 any eq 80
access-list 100 permit ip any any

!!注意
ACL 语句通常一旦写错，就需要NO 了重新编写
no access-list 1

5.8）将ACL 引用到接口下
interface <intf-id>
ip access-group <acl-id> <in/out>